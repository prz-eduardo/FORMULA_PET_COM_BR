.galeria-container{ padding: 72px 20px 28px; max-width:1200px; margin: 0 auto }
.galeria-header{ margin-top: 6px; margin-bottom: 18px; }

/* header actions (e.g., go to Meus Pets) */
.galeria-actions{ margin-top:10px }
.galeria-actions .btn-meus-pets{ display:inline-block; padding:8px 12px; border-radius:8px; background: linear-gradient(90deg,#ffd7e0,#ff9fb6); color:#111; font-weight:700; text-decoration:none }
.galeria-actions .btn-meus-pets:hover{ transform:translateY(-2px); box-shadow:0 10px 30px rgba(255,125,150,0.12) }


/* Fonts: elegant headline + friendly body */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,700&family=Poppins:wght@400;600;700;800&display=swap');

.galeria-title{ font-family: "Pacifico", cursive, "Montserrat", Arial, sans-serif; font-size:44px; color:var(--primary, #2b2b2b); margin:0 0 12px; font-weight:900; letter-spacing: -0.8px; line-height:1.02; text-shadow: 0 6px 22px #f5a70066 }
.galeria-subtitle{ margin:0; color:#54646b; font-size:15px; line-height:1.45; font-weight:500; font-family: var(--gallery-font) }

/* decorative flourish kept but sized to match the home title */
.galeria-title{ position:relative; padding-bottom:10px }
.galeria-title::after{ content:''; display:block; width:64px; height:6px; margin-top:12px; background: linear-gradient(90deg, #f5a700, #c4d600); border-radius:999px; box-shadow: 0 8px 26px #f5a70033; transform-origin:center; opacity:1 }
.galeria-title small{ display:block; font-family: var(--gallery-font); font-weight:600; font-size:14px; color:#7b8b8f; margin-top:6px }

/* entrance animation for header */
.galeria-header{ opacity:0; transform:translateY(8px); animation: headerIn .52s cubic-bezier(.2,.9,.3,1) forwards }
@keyframes headerIn { to { opacity:1; transform:none } }
.cards-grid{ display:grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap:12px }
.masonry{
	column-count: 4;
	column-gap: 16px;
}

/* Responsive masonry columns: desktop 4, tablet 2, phone 1 */
@media screen and (max-width: 1200px) {
  .masonry{ column-count: 3; }
}
@media screen and (max-width: 900px) {
  .masonry{ column-count: 2; }
}
@media screen and (max-width: 520px) {
  .masonry{ column-count: 1; }
}

/* Mobile picker defaults (narrow screens) */
@media screen and (max-width: 640px) {
  .reaction-btn{ font-size:20px; padding:8px; line-height:1 }
  /* anchor the picker to the right edge of the card; ensure it never exceeds viewport */
  .reaction-picker{ right: 8px; left: auto; bottom: calc(100% + 8px); transform-origin: right bottom; padding:6px 8px; max-width: calc(100vw - 32px); display:flex; justify-content:center; box-sizing: border-box }
  .reaction-row{ display:flex; gap:8px; justify-content:center; align-items:center; flex-wrap:nowrap }
  .pet-name{ transition: transform .22s cubic-bezier(.2,.9,.3,1), opacity .18s ease }
  .pet-name.shifted{ transform: translateY(20px); opacity:0.98 }
  .reaction-picker{ z-index: 120 }
}
.masonry-item{
	border-radius: 12px;
	/* allow overflow so floating UI (reaction picker) can escape the card bounds */
	overflow: visible;
	position: relative;
	transform-origin: center;
	transition: transform .26s ease, box-shadow .26s ease;
	margin-bottom: 16px;
}
/* Veterinário Ad card styles */
.vet-ad-card {
	break-inside: avoid-column;
	margin-bottom: 12px;
	border-radius: 14px;
	overflow: hidden;
	background: linear-gradient(180deg, #fff 0%, #f7fafc 100%);
	border: 1px solid rgba(10, 16, 24, 0.06);
	box-shadow: 0 12px 36px rgba(2,6,23,0.08);
	color: #07101a;
}
.vet-ad-inner { display:flex; flex-direction:column; gap:10px }
.vet-ad-badge { background:#f5a700; color:#08111a; font-weight:800; padding:6px 10px; border-radius:999px; display:inline-block; font-size:12px; margin:10px }
.vet-photo-wrap { padding:0 10px }
.vet-photo { width:100%; height:220px; object-fit:cover; border-radius:10px }
.vet-ad-body { padding: 6px 12px 18px }
.vet-name { font-size:18px; margin:6px 0; font-weight:900 }
.vet-promo { color:#334155; margin:6px 0; font-size:14px }
.vet-contact { display:flex; gap:8px; flex-wrap:wrap; margin-top:8px }
.vet-contact-link { color:#064e3b; font-weight:700; text-decoration:none; background: rgba(6,78,59,0.06); padding:6px 10px; border-radius:8px }
.vet-meta { margin-top:10px; color:#6b7280; font-size:13px }

/* Hide reaction UI when inside vet ad card, defensive in case markup leaks */
.vet-ad-card .actions, .vet-ad-card .reaction-wrapper, .vet-ad-card .btn-like, .vet-ad-card .reaction-picker { display: none !important }
.photo-wrap{ position:relative; display:block; /* clip the photo itself to preserve rounded corners */ overflow: hidden; border-radius: 12px }
.masonry-item.vet-ad{
	-webkit-column-span: 2;
	column-span: 2;
	break-inside: avoid-column;
}
.vet-photo-wrap{
	position:relative;
	background-image: url('/imagens/vet-placeholder.png');
	background-size: cover;
	background-position: center;
	background-repeat: no-repeat;
}
.pet-photo{ width:100%; display:block; object-fit:cover; transition: transform .4s ease }

.vet-photo{ display:block; width:100%; height:220px; object-fit:cover; border-radius:10px; background: transparent }

.masonry-item.small .pet-photo{ height:160px }
.masonry-item.medium .pet-photo{ height:240px }
.masonry-item.large .pet-photo{ height:320px }

.overlay{ position:absolute; inset:0; display:flex; flex-direction:column; justify-content:space-between; padding:10px; box-sizing:border-box }
.overlay-top{ display:flex; justify-content:space-between; color:rgba(255,255,255,0.95); font-size:12px; font-weight:700; text-shadow:0 1px 2px rgba(0,0,0,0.6) }
.overlay-bottom{ display:flex; justify-content:space-between; align-items:center; gap:8px }
/* top-reaction-badge removed — dominant emoji moved to the like button */
.pet-name{ color:#fff; font-weight:900; text-shadow:0 4px 18px rgba(0,0,0,0.6); font-size:20px }
.pet-type, .pet-age{ background:rgba(0,0,0,0.35); padding:4px 8px; border-radius:999px }

.actions{ display:flex; gap:8px }
.btn-like{ border:0; background:rgba(255,255,255,0.12); color:#fff; padding:6px 8px; border-radius:8px; cursor:pointer }
.btn-like.active{ background: linear-gradient(90deg,#ff7aa2,#ff4d6d); box-shadow:0 6px 18px rgba(255,77,109,0.18) }

/* hover lift */
.masonry-item:hover{ transform: translateY(-6px); box-shadow: 0 18px 48px rgba(18,38,63,0.12) }
.masonry-item:hover .pet-photo{ transform: scale(1.03) }

.pet-actions{ width:100%; display:flex; justify-content:flex-end; padding-top:8px }
.btn-like{ border:0; background:transparent; cursor:pointer; font-size:16px; display:inline-flex; align-items:center; gap:6px; padding:6px 8px; border-radius:8px; transition:all .18s ease }
.btn-like .likes-count{ font-weight:700 }
.btn-like.active{ background:rgba(245,0,87,0.08); transform:translateY(-2px); box-shadow:0 6px 14px rgba(0,0,0,0.06) }

/* Reaction picker: expands to the left of the heart button */
.reaction-wrapper{ position: absolute; right: 10px; bottom: 10px; z-index: 80; display: flex; align-items: center }
.reaction-wrapper .btn-like{ background: rgba(255,255,255,0.08); color:#fff; border-radius:8px; padding:6px 8px }
.reaction-wrapper .likes-count{ margin-left:6px; font-weight:700 }
.likes-total{ display:inline-block; margin-left:6px; font-weight:700; padding:2px 8px; border-radius:8px; transition: box-shadow .12s ease, border-color .12s ease, transform .12s ease }
/* show a visible border around the whole like button when the current user reacted */
.reaction-wrapper .btn-like.visualActive{
	/* stronger colored glow: outer soft drop + visible halo ring + subtle inner sheen */
	outline: none;
	box-shadow:
		/* main soft drop-shadow for depth */
		0 12px 32px rgba(255,77,109,0.34),
		/* visible colored halo ring to emphasize the active state */
		0 0 0 6px rgba(255,77,109,0.16),
		/* smaller tighter shadow for contrast */
		0 4px 12px rgba(255,77,109,0.18) inset,
		/* tiny highlight */
		0 1px 0 rgba(255,255,255,0.04);
	transform: translateY(-2px);
	border-radius: 10px;
	transition: box-shadow .18s ease, transform .12s ease;
}

/* default picker: left of the like button with a smooth scale+translate+fade entrance */
.reaction-picker{ position:absolute; right:100%; bottom:0; display:flex; gap:8px; padding:8px; background:rgba(11,22,33,0.92); border-radius:999px; box-shadow: 0 14px 40px rgba(2,6,23,0.55); transform-origin: right center; /* replaced animation with transition to avoid flicker */ transition: opacity .12s ease, transform .12s ease, left .08s ease, top .08s ease; opacity:1; max-width: calc(100vw - 24px); overflow: visible; z-index: 9999 }
/* arrow removed: no ::after caret for reaction picker */

.reaction-picker.picker-floating{
	position:fixed; /* when floating, use fixed coordinates provided by ngStyle */
	display:flex;
	white-space:nowrap;
	align-items:center;
	justify-content:center;
	overflow:visible;
	padding:10px 12px;
	/* disable keyframe animation when floating to prevent flicker/jank */
	animation: none !important;
	opacity: 1 !important;
	transform: none !important;
	will-change: transform, opacity, left, top;
	transition: transform .12s ease, opacity .12s ease, left .08s ease, top .08s ease;
}

/* Modal / fixed-picker tweaks:
	 - When the picker is floating (fixed), add a small left padding so the
		 picker appears slightly inset and doesn't butt directly against the card edge.
	 - Also restyle the like button within the same wrapper to better match
		 the Area Cliente pages (subtle light background, soft border and shadow).
	 Note: Uses the relational :has selector to scope the .btn-like styling to
	 wrappers that currently contain a floating picker. Modern browsers support
	 :has; if you need broader support we can instead toggle a class from TS.
*/
.reaction-picker.picker-floating { padding-left: 18px; padding-right: 12px; }

.reaction-wrapper:has(.reaction-picker.picker-floating) {
	/* slightly offset the wrapper so the floating picker and button feel spacious */
	padding-left: 6px;
}

.reaction-wrapper:has(.reaction-picker.picker-floating) .btn-like {
	/* area-cliente like/button visual: light surface, subtle border and soft shadow */
	background: linear-gradient(180deg, #ffffff, #f7f7f9);
	color: #07101a;
	border: 1px solid rgba(10,16,24,0.06);
	box-shadow: 0 10px 26px rgba(2,6,23,0.06);
	padding: 8px 12px; /* more left/right padding for clarity when fixed */
	border-radius: 10px;
	font-weight: 700;
	min-height: 40px;
	align-items: center;
}

.reaction-wrapper:has(.reaction-picker.picker-floating) .btn-like .likes-count {
	color: #0b1621;
}
	.reaction-picker.picker-floating .reaction-btn{
		/* disable per-emoji keyframe when floating to avoid flicker on desktop */
		animation: none !important;
		opacity: 1 !important;
		transform: none !important;
	}
/* floating picker arrow removed */

.reaction-picker.flipped{
	/* When flipped, render the picker below the trigger so the top isn't clipped */
	bottom: auto !important;
	top: 100% !important;
	right: auto !important;
	left: 0 !important;
	margin-top: 8px;
	transform-origin: left top;
}
.reaction-btn{ border:0; background:transparent; color:#fff; font-size:18px; padding:8px; border-radius:999px; cursor:pointer; transition: transform .14s ease, box-shadow .14s ease; opacity:0; transform: translateY(6px) scale(.96); animation: emojiIn .28s cubic-bezier(.2,.9,.3,1) forwards; animation-delay: var(--d, 120ms); min-width: 44px; min-height: 44px; display:inline-flex; align-items:center; justify-content:center }
.reaction-btn:hover{ transform:translateY(-6px) scale(1.08); box-shadow:0 10px 24px rgba(0,0,0,0.36) }

/* indicate user's selected reaction subtly in the picker */
.reaction-btn.active{ background: rgba(255,255,255,0.06); box-shadow: 0 8px 20px rgba(0,0,0,0.12); transform: translateY(-3px) }
.reaction-btn.active .emoji{ transform: scale(1.08); }
/* Removed pseudo-element to avoid pre-highlighting background on the love button */

/* preview state (temporary highlight when opening picker for first-time) */
.reaction-btn.preview{ background: linear-gradient(90deg,#ffdde6,#ffd7e0); box-shadow:0 8px 20px rgba(255,77,109,0.08); transform: translateY(-2px) }
.reaction-btn.preview .emoji{ transform: scale(1.06) }

/* confirmed give -- subtle pop and glow to indicate reaction was sent */
.reaction-btn.confirm{ transform: translateY(-4px) scale(1.12); box-shadow: 0 14px 32px rgba(255,77,109,0.18); background: linear-gradient(90deg,#ff9fb6,#ff6a87); color:#fff }
.reaction-btn.confirm .emoji{ transform: scale(1.18) }
@keyframes popConfirm {
	0% { transform: scale(.88); opacity: 0.6 }
	40% { transform: scale(1.12); opacity: 1 }
	100% { transform: scale(1.06); opacity: 1 }
}

@keyframes emojiIn {
	0% { opacity: 0; transform: translateY(8px) scale(.92); }
	60% { opacity: 1; transform: translateY(-4px) scale(1.06); }
	100% { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes emojiOut {
  0% { opacity: 1; transform: translateY(0) scale(1); }
  60% { opacity: 0.95; transform: translateY(-4px) scale(0.96); }
  100% { opacity: 0; transform: translateY(8px) scale(.92); }
}

/* Exit state: apply when picker requests icons to disappear one-by-one */
.reaction-btn.exiting { animation-name: emojiOut !important; animation-duration: .28s; animation-timing-function: cubic-bezier(.2,.9,.3,1); animation-fill-mode: forwards; animation-delay: var(--exit-d, 0ms); }

/* pickerOpen keyframes removed in favor of transitions to stabilize rendering on desktop and mobile */

/* Mobile specific handled earlier to keep picker anchored and avoid viewport overflow */

/* slightly offset name on narrow but not tiny screens */
@media screen and (min-width: 641px) and (max-width: 900px) {
	.reaction-picker{ right:100%; bottom:8px }
	.pet-name.shifted{ transform: translateX(-28px); transition: transform .18s ease }
}

.loading-more{ text-align:center; padding:12px; color:#374151 }
.sentinel{ height:1px }
